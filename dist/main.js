(()=>{"use strict";(()=>{const e=document.querySelector("body"),t=document.createElement("header");t.innerHTML='\n  <nav class="navbar navbar-expand navbar-dark bg-dark">\n  <div class="container-fluid">\n    <div class="collapse navbar-collapse">\n      <ul class="navbar-nav mx-auto">\n        <li class="nav-item">\n          <a class="nav-link active" aria-current="page" href="#" id="home-link">To-Do List</a>\n        </li>\n      </ul>\n      </div>\n  </div>\n  </nav>\n  ';const n=document.createElement("main");n.setAttribute("id","content"),n.classList.add("container-fluid");const i=document.createElement("footer");i.classList.add("py-4","bg-dark","flex-shrink-0"),i.innerHTML="\n  <div class=\"container text-center\">\n    <p class='text-muted'>For more content like this check on my Github profile: \n      <a class='text-decoration-none' href='https://github.com/carloso0114'> Carlos Ospina</a>\n    </p>\n  </div>",e.append(t),e.append(n),e.append(i);const a=document.querySelector("main"),c=document.createElement("div");c.setAttribute("id","sidebar"),c.classList.add("row","content"),a.append(c);const o=document.querySelector("#sidebar"),r=document.createElement("div");r.classList.add("col-sm-4","sidenav"),o.append(r);const s=document.createElement("div");s.classList.add("col-sm-4","task"),o.append(s);const l=document.querySelector(".sidenav"),d=document.createElement("h4");d.classList.add("text-center"),d.innerText="Projects",l.append(d);const u=document.createElement("form");l.append(u);const m=document.querySelector("form"),p=document.createElement("input"),v=document.createElement("input");v.setAttribute("type","button"),v.setAttribute("value","Create"),v.setAttribute("id","add"),v.classList.add("mx-1"),p.setAttribute("type","text"),p.setAttribute("id","projectName"),p.setAttribute("placeholder","New Project Name"),p.setAttribute("size","15"),p.classList.add("my-1"),m.append(p),m.appendChild(v);const b=document.createElement("ul");b.classList.add("nav","wi","nav-pills","flex-column"),l.append(b);const y=document.querySelector(".task"),h=document.createElement("h4");h.innerText="Tasks",h.classList.add("text-center"),y.append(h);const E=document.createElement("div");E.innerHTML='<form id="taskForm">\n    <label for="title">Title:</label><br>\n    <input type="text" id="title"><br>\n    <label for="description">Description:</label><br>\n    <input type="text" id="description"><br>\n    <label for="dueDate">Due Date:</label><br>\n    <input type="date" id="dueDate"><br>\n  \n    <label for="priority">Priority:</label><br>\n    <select name="priority" id="priority">\n      <option value="low">low</option>\n      <option value="medium">medium</option>\n      <option value="urgent">urgent</option>\n    </select><br>\n  \n    <button type="button" class="btn btn-primary mt-2" id="createTask" >Add task</button>\n    </br>\n    </br>\n  </form> \n  ',y.append(E);const g=document.createElement("div");g.classList.add("col-sm-4"),g.setAttribute("id","finalTasklist"),o.append(g),g.innerHTML='\n  <h4 class="text-center">Task List</h4>\n  <div id="taskqueue"></div>'})();const e=()=>{localStorage.setItem("ListaDeProyectos",JSON.stringify(m))},t=document.querySelector("#title"),n=document.querySelector("#description"),i=document.querySelector("#dueDate"),a=document.querySelector("#priority"),c=()=>{t.value="",n.value="",i.value="",a.value="low"};class o{constructor(e,t,n,i){this.title=e,this.description=t,this.dueDate=n,this.priority=i}}const r=document.querySelector("#createTask");r.addEventListener("click",(()=>{const t=r.getAttribute("id2");if(null!=t){const n=document.querySelector("#title").value,i=document.querySelector("#description").value,a=document.querySelector("#dueDate").value,r=document.querySelector("#priority").value;if(""!==n.trim()&&""!==i.trim()&&""!==a.trim()&&""!==r.trim()){const s=new o(n,i,a,r);m[t].todolist.push(s),e(),c(),d()}}}));const s=o,l=()=>{const t=document.getElementById("createTask").getAttribute("id2"),n=m[t].todolist;let i=0;const a=document.getElementById("taskqueue");a.innerHTML="";const o=document.createElement("div");n.forEach((n=>{let c;"low"===n.priority?c="btn-primary":"medium"===n.priority?c="btn-warning":"urgent"===n.priority?c="btn-danger":"completed"===n.priority&&(c="btn-success"),o.innerHTML+=`\n        <h5 class="btn ${c}" data-bs-toggle="collapse" href="#multiCollapseExample${i}" role="button"\n            aria-expanded="false" aria-controls="multiCollapseExample${i}">\n            ${n.title}\n        </h5>\n        <div class="row my-2">\n            <div class="collapse multi-collapse" id="multiCollapseExample${i}">\n                <div class="card-body text-center">\n                    <h5 id="theDescription">Description: ${n.description}</h5>\n                    <h5>Due Date: ${n.dueDate}</h5>\n                    <button type="button" class="btn btn-warning" id="${i}">Edit</button>\n                    <button type="button" class="btn btn-danger" id="${i}">Delete</button>\n                    <button type="button" class="btn btn-success" id="${i}">Complete</button>\n                </div>\n            </div>\n        </div>\n        `,a.append(o),document.querySelectorAll("button.btn-success").forEach((n=>{n.addEventListener("click",(()=>{m[t].todolist[n.id].priority="completed",e(),l()}))})),i+=1})),document.querySelectorAll("#taskqueue div div div button.btn-danger").forEach((n=>{n.addEventListener("click",(n=>{m[t].todolist.splice(n.target.id,1),e(),l()}))}));const r=document.querySelector("#title"),d=document.querySelector("#description"),u=document.querySelector("#dueDate"),p=document.querySelector("#priority");document.querySelectorAll("#taskqueue div div div button.btn-warning").forEach((n=>{n.addEventListener("click",(n=>{const{title:i}=m[t].todolist[n.target.id],{description:a}=m[t].todolist[n.target.id],{dueDate:o}=m[t].todolist[n.target.id],{priority:v}=m[t].todolist[n.target.id];r.value=i,d.value=a,u.value=o,p.value=v;const b=document.querySelector("#taskForm"),y=document.createElement("input");y.setAttribute("type","button"),y.setAttribute("value","update"),y.classList.add("btn","btn-primary"),document.querySelector("#taskForm input[value='update']")?document.querySelector("#taskForm input[value='update']").setAttribute("id",`${n.target.id}`):(y.setAttribute("id",`${n.target.id}`),b.appendChild(y)),document.querySelector("input[value='update']").addEventListener("click",(n=>{const i=document.querySelector("#title").value,a=document.querySelector("#description").value,o=document.querySelector("#dueDate").value,r=document.querySelector("#priority").value;if(""!==i.trim()&&""!==a.trim()&&""!==o.trim()&&""!==r.trim()){const d=new s(i,a,o,r);m[t].todolist.splice(n.target.getAttribute("id"),1,d),e(),l(),c(),n.target.remove()}}))}))}))},d=l;class u{constructor(e){this.name=e,this.todolist=[]}}const m=[],p=document.querySelector("#add"),v=document.querySelector("#projectName");p.addEventListener("click",(()=>{(()=>{if(""!==v.value.trim()){const t=new u(v.value);m.push(t),e();const n=m.length-1,i=document.querySelector(".wi"),a=document.createElement("li");a.classList.add("nav-item","my-1");const o=document.createElement("a");o.setAttribute("href","#"),o.classList.add("nav-link"),o.innerText=t.name,o.setAttribute("id",n),i.append(a),document.querySelector(".sidenav ul li:last-child").appendChild(o),v.value="";const r=document.getElementById(`${n}`),s=document.getElementById("createTask"),l=document.getElementById("taskqueue");s.setAttribute("id2",`${n}`),document.querySelectorAll(".sidenav ul li a.active").forEach((e=>{e.classList.contains("active")&&e.classList.remove("active")}));const p=document.querySelector(".sidenav ul li:last-child a:last-child");p.classList.toggle("active"),c(),document.getElementById("taskqueue").innerHTML="",r.addEventListener("click",(()=>{s.setAttribute("id2",`${n}`),l.setAttribute("id2",`${n}`),document.querySelectorAll(".sidenav ul li a.active").forEach((e=>{e.classList.contains("active")&&e.classList.remove("active")})),p.classList.add("active"),d()}))}})()}));const b=e=>{const t=e,n=m.length-1,i=document.querySelector(".wi"),a=document.createElement("li");a.classList.add("nav-item","my-1");const c=document.createElement("a");c.setAttribute("href","#"),c.classList.add("nav-link"),c.innerText=t.name,c.setAttribute("id",n),i.append(a),document.querySelector(".sidenav ul li:last-child").appendChild(c),v.value="";const o=document.getElementById(`${n}`),r=document.getElementById("createTask"),s=document.getElementById("taskqueue");r.setAttribute("id2",`${n}`),o.addEventListener("click",(e=>{r.setAttribute("id2",`${n}`),s.setAttribute("id2",`${n}`),document.querySelectorAll(".sidenav ul li a").forEach((t=>{t.classList.contains("active")&&t.classList.remove("active"),e.target.classList.add("active")})),d()}))};(()=>{if(localStorage.getItem("ListaDeProyectos"))JSON.parse(localStorage.getItem("ListaDeProyectos")).forEach((e=>{m.push(e),b(e)}));else{const e=new u("Default Project");m.push(e),b(e)}})()})();